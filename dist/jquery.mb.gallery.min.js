/* jquery.mb.gallery 25-12-2018
 _ jquery.mb.components 
 _ email: matbicoc@gmail.com 
 _ Copyright (c) 2001-2018. Matteo Bicocchi (Pupunzi); 
 _ blog: http://pupunzi.open-lab.com  
 _ Open Lab s.r.l., Florence - Italy 
 */
function uncamel(a){return a.replace(/([A-Z])/g,function(a){return"-"+a.toLowerCase()})}function setUnit(a,b){return"string"!=typeof a||a.match(/^[\-0-9\.]+jQuery/)?""+a+b:a}function setFilter(a,b,c){var d=uncamel(b),e=jQuery.browser.mozilla?"":jQuery.CSS.sfx;a[e+"filter"]=a[e+"filter"]||"",c=setUnit(c>jQuery.CSS.filters[b].max?jQuery.CSS.filters[b].max:c,jQuery.CSS.filters[b].unit),a[e+"filter"]+=d+"("+c+") ",delete a[b]}function isTouchSupported(){var a=nAgt.msMaxTouchPoints,b="ontouchstart"in document.createElement("div");return!(!a&&!b)}!function($){jQuery.mbGallery={name:"jquery.mb.mbGallery",version:"1.3.1",build:"943",author:"Matteo Bicocchi",defaults:{nav_effect:"slide_horizontal",nav_delay:60,nav_delay_inverse:1,nav_timing:800,nav_pagination:6,nav_show:!0,gallery_effect:"slide_horizontal",gallery_timing:500,gallery_cover:!1,thumb_cover:!0,layout:"default",layout_cols:3,layout_margin:5,layout_has_caption:!0,full_inline:!1,full_inline_height:500,gallery_fullscreen_w:"100%",gallery_fullscreen_h:"100%",showIndexinFullscreen:!1,clever_transition:!0,ease:"cubic-bezier(0.19, 1, 0.22, 1)",thumb_ratio:1,onSlide:function(a){},onFullScreen:function(a){},onExitFullScreen:function(a){},onFullscreenChange:function(a){}},transitions:{fade:{prev:{"in":{opacity:0},out:{opacity:0},nav_delay_inverse:!1},next:{"in":{opacity:0},out:{opacity:0},nav_delay_inverse:!1}},fade_zoom:{prev:{"in":{x:"0",opacity:0,scale:.9},out:{x:0,opacity:0},nav_delay_inverse:!1},next:{"in":{x:"0",opacity:0},out:{x:0,scale:.9,opacity:0},nav_delay_inverse:!1}},slide_vertical:{prev:{"in":{opacity:0},out:{y:-200,opacity:0},nav_delay_inverse:!1},next:{"in":{opacity:0},out:{y:200,opacity:0},nav_delay_inverse:!1}},slide_horizontal:{prev:{"in":{opacity:0},out:{x:$(window).width(),opacity:0},ease:"cubic-bezier(.43,.18,.81,1.07)",sequence:!0,nav_delay_inverse:!0},next:{"in":{opacity:0},out:{x:-$(window).width(),opacity:0},ease:"cubic-bezier(.43,.18,.81,1.07)",sequence:!0,nav_delay_inverse:!1}},slide_inverse:{prev:{"in":{y:200,opacity:0},out:{y:200,opacity:0},nav_delay_inverse:!1},next:{"in":{y:200,opacity:0},out:{y:200,opacity:0},nav_delay_inverse:!1}},zoom:{prev:{"in":{scale:2,opacity:0},out:{scale:.1,opacity:0},nav_delay_inverse:!1},next:{"in":{scale:.1,opacity:0},out:{scale:2,opacity:0},nav_delay_inverse:!1}},rotate:{prev:{"in":{opacity:0,rotate:-179},out:{rotate:179,opacity:0},nav_delay_inverse:!1},next:{"in":{opacity:0,rotate:179},out:{rotate:-179,opacity:0},nav_delay_inverse:!1}},mobSlide:{prev:{"in":{opacity:0},out:{x:200,opacity:0},ease:"cubic-bezier(0,.01,1,1)",nav_delay_inverse:!1},next:{"in":{opacity:0},out:{x:-200,opacity:0},ease:"cubic-bezier(0,.01,1,1)",nav_delay_inverse:!0}}},events:{start:jQuery.isMobile?"touchstart":"mousedown",move:jQuery.isMobile?"touchmove":"mousemove",end:(jQuery.isMobile,"click")},init:function(options){return this.each(function(){var grid=this,$grid=jQuery(grid);$grid.addClass("tg-container"),grid.opt={},jQuery.extend(grid.opt,jQuery.mbGallery.defaults,options),$grid.hide(),grid.isAnimating=!1,grid.pageIndex=0,grid.id=grid.id?grid.id:"mbGallery_"+(new Date).getTime(),grid.setAttribute("gid","mbGallery_"+(new Date).getTime()),grid.nav_effect=$grid.data("nav_effect")||grid.opt.nav_effect,grid.nav_delay=$grid.data("nav_delay")||grid.opt.nav_delay,grid.nav_delay_inverse=$grid.data("nav_delay_inverse")||grid.opt.nav_delay_inverse,grid.nav_timing=$grid.data("nav_timing")||opt.nav_timing,grid.nav_pagination="undefined"!=typeof $grid.data("nav_pagination")?$grid.data("nav_pagination"):grid.opt.nav_pagination,grid.nav_pagination=jQuery.isMobile&&!jQuery.isTablet?1:grid.nav_pagination,grid.gallery_fullscreen_w=$grid.data("gallery_fullscreen_w")||grid.opt.gallery_fullscreen_w,grid.gallery_fullscreen_h=$grid.data("gallery_fullscreen_h")||grid.opt.gallery_fullscreen_h,grid.gallery_cover="undefined"!=typeof $grid.data("gallery_cover")?$grid.data("gallery_cover"):grid.opt.gallery_cover,grid.thumb_cover="undefined"!=typeof $grid.data("thumb_cover")?$grid.data("thumb_cover"):grid.opt.thumb_cover,grid.thumb_ratio=eval($grid.data("thumb_ratio"))||grid.opt.thumb_ratio,grid.gallery_effect=$grid.data("gallery_effect")||grid.nav_effect,grid.gallery_timing=$grid.data("gallery_timing")||1e3,grid.nav_show="undefined"!=typeof $grid.data("nav_show")?$grid.data("nav_show"):grid.opt.nav_show,grid.nav_show=!!jQuery.isMobile||grid.nav_show,grid.layout=$grid.data("layout")||grid.opt.layout,grid.layout_cols=$grid.data("layout_cols")||grid.opt.layout_cols,grid.layout_margin=$grid.data("layout_margin")||grid.opt.layout_margin,grid.layout_has_caption=$grid.data("layout_has_caption")||grid.opt.layout_has_caption,grid.clever_transition="undefined"!=typeof $grid.data("clever_transition")?$grid.data("clever_transition"):grid.opt.clever_transition,grid.full_inline="undefined"!=typeof $grid.data("full_inline")?$grid.data("full_inline"):grid.opt.full_inline,grid.full_inline_height="undefined"!=typeof $grid.data("full_inline_height")?parseFloat($grid.data("full_inline_height")):grid.opt.full_inline_height,jQuery.isMobile&&(grid.full_inline=!1),jQuery.extend(grid.opt,$grid.data()),grid.elements=$grid.children().clone(!0),$grid.children().hide(),0==grid.nav_pagination&&(grid.nav_pagination=grid.elements.length),grid.elements.each(function(a){jQuery(this).attr("data-globalindex",a)}),grid.pages=[],grid.totPages=Math.ceil(grid.elements.length/grid.nav_pagination);for(var thumbIdx=0,p=0;p<grid.totPages;p++){for(var page=[],x=0;x<grid.nav_pagination&&grid.elements[thumbIdx];x++){var thumb=grid.elements[thumbIdx];page.push(thumb),thumbIdx++}grid.pages.push(page)}jQuery.mbGallery.drawPage(grid,!1),grid.full_inline&&jQuery.mbGallery.drawFullInline(grid),"grid"==grid.opt.layout&&$grid.addClass("grid-layout"),jQuery(window).resize()})},drawFullInline:function(a){var b=a,c=jQuery(b);b.fullInlineBox=jQuery("<div/>").addClass("inline-full-box"),b.fullInlineBox.css({height:b.full_inline_height,width:"100%",position:"absolute",padding:5,top:0,left:0}),b.fullInlineImg=jQuery("<div/>").addClass("inline-full-img");var d=$(b.pages[0][0]).data("highres");b.fullInlineImg.css({height:"calc(100% - 10px)",width:"calc(100% - 10px)",top:0,left:0,right:0,bottom:0,margin:"auto",position:"absolute",background:"#000",backgroundImage:"url("+d+")",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center center"}),jQuery.mbGallery.showFullInline(b,0),b.fullInlineBox.prepend(b.fullInlineImg),c.prepend(b.fullInlineBox)},drawPage:function(a,b){"undefined"==typeof b&&(b=!0);var c=a,d=(c.opt.layout,jQuery(c));c.nav_delay=d.data("nav_delay")||100,c.nav_delay_inverse=d.data("nav_delay_inverse")||0,c.nav_timing=d.data("nav_timing")||2e3,c.isAnimating=!0;var e=c.pages[a.pageIndex],f=jQuery("<ul/>").addClass("thumb-grid");c.page=f,c.full_inline&&f.addClass("full-inline"),"function"==typeof c.opt.onSlide&&c.opt.onSlide(c);for(var g=0;g<c.nav_pagination;g++){var h=jQuery(e[g]),i=jQuery("<div/>").addClass("thumb_box"),j=jQuery(e[g]).attr("src");if(i.css({backgroundImage:"url("+j+")",backgroundSize:c.thumb_cover?"cover":"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center center"}),i.attr({"data-type":h.data("type")||"image","data-highres":h.data("highres"),"data-globalindex":h.data("globalindex"),"data-caption":h.data("caption")}),i.css({width:"100%",height:"100%"}),!h.length)break;var k=jQuery("<li/>").addClass("thumbWrapper").append(i);if((1==c.nav_pagination||c.opt.layout_has_caption)&&h.data("caption")){var l=jQuery("<div/>").addClass("tg-captionBox").html(h.data("caption"));i.after(l)}else jQuery(".tg-captionBox",i).remove();if(k.data("idx",g),k.on(jQuery.mbGallery.events.end,function(a){if(!c.isAnimating){var b=jQuery(".thumb_box",this).data("globalindex");c.full_inline?jQuery.mbGallery.showFullInline(c,b):jQuery.mbGallery.drawSlideShow(c,b),a.originalEvent.preventDefault()}}),b){k.css({opacity:0}),c.direction=c.direction||"next";var m=jQuery.normalizeCss(jQuery.mbGallery.transitions[d.data("nav_effect")][c.direction]["in"]);k.css(m)}else{var n=jQuery.normalizeCss({top:0,left:0,opacity:1,x:0,y:0,scale:1,rotate:0,skew:0,filter:" blur(0)"});k.css(n).show()}f.append(k),jQuery(".tg-next, .tg-prev",f).remove();var o=jQuery("<div/>").addClass("tg-next tg-icon").on(jQuery.mbGallery.events.end,function(a){jQuery.mbGallery.nextPage(c),a.originalEvent.preventDefault()}),p=jQuery("<div/>").addClass("tg-prev tg-icon").on(jQuery.mbGallery.events.end,function(a){jQuery.mbGallery.prevPage(c),a.originalEvent.preventDefault()});c.elements.length>c.nav_pagination&&!c.nav_show&&f.append(o).append(p),f.addClass("active")}c.thumbSize=jQuery.mbGallery.setThumbSize(c,jQuery(".thumbWrapper",f)),jQuery(window).off("resize.mbGallery_"+c.id).on("resize.mbGallery_"+c.id,function(){var a=jQuery(".thumbWrapper",f);c.thumbSize=jQuery.mbGallery.setThumbSize(c,a)}).resize(),b&&f.addClass("in"),d.find(".thumb-grid").addClass("out").removeClass("in"),d.prepend(f),jQuery.isMobile&&f.swipe({allowPageScroll:"auto",threshold:75,triggerOnTouchEnd:!1,swipeStatus:function(a,b,d,e){if("move"==b&&(a.preventDefault(),a.stopPropagation()),!c.isAnimating)return"end"==b?(a.preventDefault(),a.stopPropagation(),"left"==d?(c.nav_effect=jQuery.mbGallery.transitions.mobSlide,jQuery.mbGallery.nextPage(c)):"right"==d&&(c.nav_effect=jQuery.mbGallery.transitions.mobSlide,jQuery.mbGallery.prevPage(c)),!1):void 0}}),c.direction=c.direction||"next";var q=jQuery.mbGallery.transitions[d.data("nav_effect")][c.direction].ease||c.opt.ease;setTimeout(function(){for(var a={top:0,left:0,opacity:1,x:0,y:0,scale:1,rotate:0,skew:0,filter:" blur(0)"},e=jQuery.mbGallery.transitions[d.data("nav_effect")][c.direction].sequence?3*c.nav_delay:0,f=jQuery.mbGallery.transitions[d.data("nav_effect")][c.direction].nav_delay_inverse,g=0;g<jQuery(".in .thumbWrapper",d).length;g++){var h=f?jQuery(".in .thumbWrapper",d).length-1-g:g,i=jQuery(".in .thumbWrapper",d).eq(h).data("idx",h);i.CSSAnimate(a,c.nav_timing,e,q),e+=c.nav_delay}for(var j=0,k=0;k<jQuery(".out .thumbWrapper",d).length;k++){var l=f?jQuery(".out .thumbWrapper",d).length-1-k:k,m=jQuery(".out .thumbWrapper",d).eq(l);m.data("islast",f?0==l:l==jQuery(".out .thumbWrapper",d).length-1);var n=jQuery.mbGallery.transitions[d.data("nav_effect")][c.direction].out;c.nav.addClass("waiting"),m.CSSAnimate(n,c.nav_timing,j,q,function(){m.data("islast")&&(jQuery(".out",d).remove(),c.isAnimating=!1,c.nav.removeClass("waiting"))}),j+=c.nav_delay}d.fadeIn(),b||(jQuery.mbGallery.buildIndex(c),c.isAnimating=!1,"undefined"!=typeof c.nav&&c.nav_show&&c.nav.show())},100),jQuery(window).on("resize.mbGallery",function(){}).resize()},setThumbSize:function(a,b){var c=jQuery(a);c.is(":visible")?a.width=c.outerWidth():(c.css({opacity:0}).show(),a.width=c.outerWidth(),c.hide().css({opacity:1}));var d=a.width/a.nav_pagination-(1==a.nav_pagination?0:10);a.nav_pagination>6&&(d=2*a.width/a.nav_pagination-10),a.nav_pagination>8&&(d=2.5*a.width/a.nav_pagination-10),a.width<600&&a.nav_pagination>3&&(d=a.width/2-10),"grid"==a.opt.layout&&a.width/a.opt.layout_cols>d&&(d=a.width/a.opt.layout_cols-a.opt.layout_margin*a.opt.layout_cols);var e=d/a.thumb_ratio;return b.each(function(){jQuery(this).css({width:d,height:e}),"grid"==a.opt.layout&&jQuery(this).css({margin:a.opt.layout_margin})}),{w:d,h:e}},getThumbSize:function(a,b){return{h:b.outerHeight(),w:jQuery(a).outerHeight()}},nextPage:function(a){a.isAnimating||(++a.pageIndex,a.direction="next",a.pageIndex>a.totPages-1&&(a.pageIndex=0),jQuery.mbGallery.drawPage(a,!0),a.nav.length&&(jQuery(".indexEl",a.nav).removeClass("sel"),jQuery(".indexEl",a.nav).eq(a.pageIndex).addClass("sel")))},prevPage:function(a){a.isAnimating||(--a.pageIndex,a.direction="prev",a.pageIndex<0&&(a.pageIndex=a.totPages-1),jQuery.mbGallery.drawPage(a,!0),a.nav.length&&(jQuery(".indexEl",a.nav).removeClass("sel"),jQuery(".indexEl",a.nav).eq(a.pageIndex).addClass("sel")))},buildIndex:function(a){var b=jQuery(a);jQuery("#"+a.id+"+ .thumbGridNav").remove();var c=jQuery("<nav/>").addClass("thumbGridNav");if(a.nav=void 0,!(a.totPages<=1)){for(var d=1;d<=a.totPages;d++){var e=jQuery("<a/>").html(d).attr({idx:d-1});e.addClass("indexEl"),e.on(jQuery.mbGallery.events.end,function(b){var d=jQuery(this).attr("idx");a.direction=a.pageIndex<d?"next":"prev",a.isAnimating||a.pageIndex==d||(jQuery.isMobile&&(d<a.pageIndex?a.nav_effect=jQuery.mbGallery.transitions.mobSlide.prev:a.nav_effect=jQuery.mbGallery.transitions.mobSlide.next),a.pageIndex=d,jQuery.mbGallery.drawPage(a),jQuery(".indexEl",c).removeClass("sel"),jQuery(".indexEl",c).eq(a.pageIndex).addClass("sel"),b.preventDefault())}),c.append(e),jQuery(".indexEl",c).eq(a.pageIndex).addClass("sel")}c.hide(),a.nav=c,a.nav_show&&a.totPages<20&&b.after(c)}},showFullInline:function(a,b){var c=a,d=c.fullInlineImg.clone().css({opacity:0});d.attr("idx",b);var e=c.elements,f=jQuery(e[b]),g=f.data("highres");d.css({backgroundImage:"url("+g+")",backgroundSize:"cover",backgroundPosition:"center center",backgroundRepeat:"no-repeat",zIndex:1,cursor:"pointer"}),c.fullInlineBox.append(d),d.CSSAnimate({opacity:1},c.gallery_timing/1.5,"ease-out",function(){c.fullInlineImg.remove(),c.fullInlineImg=d}).off(jQuery.mbGallery.events.end).on(jQuery.mbGallery.events.end,function(){jQuery.mbGallery.drawSlideShow(c,c.fullInlineImg.attr("idx"))})},drawSlideShow:function(a,b){jQuery("body").css({overflow:"hidden"}).trigger("drawSlideShow");var c=a,d=jQuery(c),e=jQuery("<div/>").addClass("tg-overlay").css({opacity:0}),f=jQuery("<div/>").addClass("tg-placeHolder"),g=jQuery("<div/>").addClass("tg-close tg-icon").on(jQuery.mbGallery.events.end,function(){jQuery.mbGallery.closeSlideShow(a,b)}),h=jQuery("<div/>").addClass("tg-next tg-icon").on(jQuery.mbGallery.events.end,function(){c.slideShow.next()}),i=jQuery("<div/>").addClass("tg-prev tg-icon").on(jQuery.mbGallery.events.end,function(){c.slideShow.prev()}),j=jQuery("<div/>").addClass("tg-spinner"),k=c.full_inline?jQuery(".inline-full-box",d):jQuery("[data-globalindex="+b+"]",d).parent("li"),l=k.offset().left-jQuery(window).scrollLeft(),m=k.offset().top-jQuery(window).scrollTop(),n=k.outerWidth(),o=k.outerHeight();c.nav_effect=jQuery.mbGallery.transitions[c.nav_effect]||jQuery.mbGallery.transitions.fade,c.nav_delay=d.data("nav_delay")||500,c.nav_timing=2*parseFloat(d.data("nav_timing"))||3e3,c.slideShowIdx=b,f.css({position:"fixed",left:l,top:m,width:n,height:o}),e.append(f).append(g).append(j).append(h).append(i),jQuery(".tg-icon",e).css({opacity:0});var p,q={lines:11,length:6,width:6,radius:16,corners:1,rotate:16,direction:1,color:"#fff",speed:1.3,trail:52,shadow:!1,hwaccel:!1,className:"spinner",zIndex:2e9,top:"50%",left:"50%"},r=j.get(0);p=new Spinner(q).spin(r),j.hide(),c.slideShow={init:function(){c.slideShow.goTo(!1),c.slideShow.keyboard(!0),c.isAnimating=!1,"function"==typeof c.opt.onFullScreen&&c.opt.onFullScreen(c)},effect:c.gallery_effect,effectNext:jQuery.mbGallery.transitions[c.gallery_effect].next||c.gallery_effect.next,effectPrev:jQuery.mbGallery.transitions[c.gallery_effect].prev||c.gallery_effect.prev,keyboard:function(d){d?(jQuery(document).on("keydown.mbGallery",function(d){switch(d.keyCode){case 27:jQuery.mbGallery.closeSlideShow(a,b),d.preventDefault();break;case 32:d.preventDefault();break;case 39:c.slideShow.next(),d.preventDefault();break;case 37:c.slideShow.prev(),d.preventDefault()}}),jQuery("body").on("closeSlideShow",function(){c.slideShow.keyboard(!1)})):jQuery(document).off("keydown.mbGallery")},goTo:function(a){var b=jQuery(".tg-img-wrapper",f).eq(0);b.removeClass("in");var d,e=c.slideShowIdx,g=jQuery(c.elements[e]).data("type")||"image",k=c.elements,l=jQuery(k[e]),m=jQuery("<div/>").addClass("tg-img-wrapper"),n=l.data("highres"),o=l.data("videourl"),s=l.data("contentid"),t=jQuery("<span/>").addClass("tg-img-caption").html(l.data("caption")),u=jQuery("<div/>").addClass("tg-img-container");u.css({position:"absolute",top:0,left:0,bottom:0,right:0,width:c.gallery_fullscreen_w,height:c.gallery_fullscreen_h,margin:"auto"}),m.append(u),f.prepend(m),m.addClass("in");var v=jQuery("<img/>"),w={top:0,left:0,opacity:1,x:0,y:0,scale:1,rotate:0,skew:0,filter:"blur(0)"};if(a){var x=jQuery.normalizeCss(c.slideShow.effect["in"]);m.css(x),c.slideShow.spinner=setTimeout(function(){p=new Spinner(q).spin(r),j.fadeIn(300)},1e3)}else w=jQuery.normalizeCss(w),m.css(w),m.css({opacity:0});var y=function(){a?m.css(jQuery.normalizeCss(c.slideShow.effect["in"])):(w=jQuery.normalizeCss(w),m.css(w),m.css({opacity:0})),clearTimeout(c.slideShow.spinner),j.fadeOut(300,function(){j.empty()});var d=c.opt.showIndexinFullscreen?jQuery("<span/>").addClass("tg-image-index").html(e+1+"/"+k.length+" "):"",g=jQuery("<label/>").html(t).prepend(d);l.data("caption")&&u.append(g),a&&(c.isAnimating=!0),setTimeout(function(){m.CSSAnimate(w,c.opt.gallery_timing,50,c.opt.ease),b.CSSAnimate(c.slideShow.effect.out,c.opt.gallery_timing,0,c.opt.ease,function(){c.isAnimating=!1,i.removeClass("disabled"),h.removeClass("disabled"),b.removeClass("in"),jQuery(".tg-img-wrapper",f).not(".in").remove()})},50)};"image"==g?v.one("load",function(){var a=v.get(0);a.loaded||(a.loaded=!0,y(),u.css({backgroundImage:"url("+n+")",backgroundSize:c.gallery_cover&&!jQuery.isMobile?"cover":"contain",backgroundPosition:"center center",backgroundRepeat:"no-repeat"}))}).attr({src:n}):"video"==g?(y(),d=jQuery("<iframe/>").attr("src",o),d.css({width:"100%",height:300,marginTop:50,border:"none"}),u.html(d)):(y(),d=jQuery("#"+s).clone(!0),d.css({width:"100%",height:"100%"}),u.html(d))},next:function(){if(c.slideShow.effect=c.slideShow.effectNext,!c.isAnimating){i.addClass("disabled"),h.addClass("disabled");var a=c.elements;++c.slideShowIdx,c.slideShowIdx==jQuery(a).length&&(c.slideShowIdx=0),c.slideShow.goTo(!0)}},prev:function(){if(c.slideShow.effect=c.slideShow.effectPrev,!c.isAnimating){i.addClass("disabled"),h.addClass("disabled");var a=c.elements;--c.slideShowIdx,c.slideShowIdx==-1&&(c.slideShowIdx=jQuery(a).length-1),c.slideShow.goTo(!0)}}},jQuery.isMobile&&(c.slideShow.effectNext=jQuery.mbGallery.transitions.mobSlide.next,c.slideShow.effectPrev=jQuery.mbGallery.transitions.mobSlide.prev,e.swipe({allowPageScroll:"auto",threshold:75,triggerOnTouchEnd:!1,swipeStatus:function(a,b,d,e){"move"==b&&(a.preventDefault(),a.stopPropagation()),c.isAnimating||"end"==b&&("left"==d?c.slideShow.next():c.slideShow.prev(),"function"==typeof c.opt.onFullscreenChange&&c.opt.onFullscreenChange(c))},swipe:function(a,b,c,d,e,f){}})),jQuery("body").append(e),e.CSSAnimate({opacity:1},600,300,function(){f.CSSAnimate({width:"100%",height:"100%",left:0,top:0,opacity:1},400,0,c.opt.ease,function(){c.slideShow.init(c),jQuery(".tg-icon",e).fadeTo(200,1)})})},closeSlideShow:function(a,b){jQuery("body").trigger("closeSlideShow");var c=a,d=jQuery(c),e=c.full_inline?jQuery(".inline-full-box",d):jQuery("[data-globalindex="+b+"]",d).parents("li"),f=e.offset().left-jQuery(window).scrollLeft(),g=e.offset().top-jQuery(window).scrollTop(),h=e.outerWidth(),i=e.outerHeight();jQuery(".tg-overlay .tg-icon").fadeTo(200,0),jQuery(".tg-placeHolder > div").fadeOut(500),jQuery(".tg-placeHolder").CSSAnimate({width:h,height:i,left:f,top:g,opacity:1},800,400,c.opt.ease,function(){var a=jQuery(".tg-overlay");a.CSSAnimate({opacity:0},600,function(){a.remove(),jQuery("body").css({overflow:"auto"})})}),"function"==typeof c.opt.onExitFullScreen&&c.opt.onExitFullScreen(c)}},jQuery.fn.mbGallery=jQuery.mbGallery.init}(jQuery),jQuery.support.CSStransition=function(){var a=(document.body||document.documentElement).style;return void 0!==a.transition||void 0!==a.WebkitTransition||void 0!==a.MozTransition||void 0!==a.MsTransition||void 0!==a.OTransition}(),jQuery.CSS={name:"mb.CSSAnimate",author:"Matteo Bicocchi",version:"2.0.0",transitionEnd:"transitionEnd",sfx:"",filters:{blur:{min:0,max:100,unit:"px"},brightness:{min:0,max:400,unit:"%"},contrast:{min:0,max:400,unit:"%"},grayscale:{min:0,max:100,unit:"%"},hueRotate:{min:0,max:360,unit:"deg"},invert:{min:0,max:100,unit:"%"},saturate:{min:0,max:400,unit:"%"},sepia:{min:0,max:100,unit:"%"}},normalizeCss:function(a){var b=jQuery.extend(!0,{},a);jQuery.browser.webkit||jQuery.browser.opera?jQuery.CSS.sfx="-webkit-":jQuery.browser.mozilla?jQuery.CSS.sfx="-moz-":jQuery.browser.msie&&(jQuery.CSS.sfx="-ms-"),jQuery.CSS.sfx="";for(var c in b){if("transform"===c&&(b[jQuery.CSS.sfx+"transform"]=b[c],delete b[c]),"transform-origin"===c&&(b[jQuery.CSS.sfx+"transform-origin"]=a[c],delete b[c]),"filter"!==c||jQuery.browser.mozilla||(b[jQuery.CSS.sfx+"filter"]=a[c],delete b[c]),"blur"===c&&setFilter(b,"blur",a[c]),"brightness"===c&&setFilter(b,"brightness",a[c]),"contrast"===c&&setFilter(b,"contrast",a[c]),"grayscale"===c&&setFilter(b,"grayscale",a[c]),"hueRotate"===c&&setFilter(b,"hueRotate",a[c]),"invert"===c&&setFilter(b,"invert",a[c]),"saturate"===c&&setFilter(b,"saturate",a[c]),"sepia"===c&&setFilter(b,"sepia",a[c]),"x"===c){var d=jQuery.CSS.sfx+"transform";b[d]=b[d]||"",b[d]+=" translateX("+setUnit(a[c],"px")+")",delete b[c]}"y"===c&&(d=jQuery.CSS.sfx+"transform",b[d]=b[d]||"",b[d]+=" translateY("+setUnit(a[c],"px")+")",delete b[c]),"z"===c&&(d=jQuery.CSS.sfx+"transform",b[d]=b[d]||"",b[d]+=" translateZ("+setUnit(a[c],"px")+")",delete b[c]),"rotate"===c&&(d=jQuery.CSS.sfx+"transform",b[d]=b[d]||"",b[d]+=" rotate("+setUnit(a[c],"deg")+")",delete b[c]),"rotateX"===c&&(d=jQuery.CSS.sfx+"transform",b[d]=b[d]||"",b[d]+=" rotateX("+setUnit(a[c],"deg")+")",delete b[c]),"rotateY"===c&&(d=jQuery.CSS.sfx+"transform",b[d]=b[d]||"",b[d]+=" rotateY("+setUnit(a[c],"deg")+")",delete b[c]),"rotateZ"===c&&(d=jQuery.CSS.sfx+"transform",b[d]=b[d]||"",b[d]+=" rotateZ("+setUnit(a[c],"deg")+")",delete b[c]),"scale"===c&&(d=jQuery.CSS.sfx+"transform",b[d]=b[d]||"",b[d]+=" scale("+setUnit(a[c],"")+")",delete b[c]),"scaleX"===c&&(d=jQuery.CSS.sfx+"transform",b[d]=b[d]||"",b[d]+=" scaleX("+setUnit(a[c],"")+")",delete b[c]),"scaleY"===c&&(d=jQuery.CSS.sfx+"transform",b[d]=b[d]||"",b[d]+=" scaleY("+setUnit(a[c],"")+")",delete b[c]),"scaleZ"===c&&(d=jQuery.CSS.sfx+"transform",b[d]=b[d]||"",b[d]+=" scaleZ("+setUnit(a[c],"")+")",delete b[c]),"skew"===c&&(d=jQuery.CSS.sfx+"transform",b[d]=b[d]||"",b[d]+=" skew("+setUnit(a[c],"deg")+")",delete b[c]),"skewX"===c&&(d=jQuery.CSS.sfx+"transform",b[d]=b[d]||"",b[d]+=" skewX("+setUnit(a[c],"deg")+")",delete b[c]),"skewY"===c&&(d=jQuery.CSS.sfx+"transform",b[d]=b[d]||"",b[d]+=" skewY("+setUnit(a[c],"deg")+")",delete b[c]),"perspective"===c&&(d=jQuery.CSS.sfx+"transform",b[d]=b[d]||"",b[d]+=" perspective("+setUnit(a[c],"px")+")",delete b[c])}return b},getProp:function(a){var b,c=[];for(b in a)0>c.indexOf(b)&&c.push(uncamel(b));return c.join(",")},animate:function(a,b,c,d,e){return this.each(function(){function f(){g.called=!0,g.CSSAIsRunning=!1,h.off(jQuery.CSS.transitionEnd+"."+g.id),clearTimeout(g.timeout),h.css(jQuery.CSS.sfx+"transition",""),"function"==typeof e&&e.apply(g),"function"==typeof g.CSSqueue&&(g.CSSqueue(),g.CSSqueue=null)}var g=this,h=jQuery(this);g.id=g.id||"CSSA_"+(new Date).getTime();var i=i||{type:"noEvent"};if(g.CSSAIsRunning&&g.eventType==i.type&&!jQuery.browser.msie&&9>=jQuery.browser.version)g.CSSqueue=function(){h.CSSAnimate(a,b,c,d,e)};else if(g.CSSqueue=null,g.eventType=i.type,0!==h.length&&a){if(a=jQuery.normalizeCss(a),g.CSSAIsRunning=!0,"function"==typeof b&&(e=b,b=jQuery.fx.speeds._default),"function"==typeof c&&(d=c,c=0),"string"==typeof c&&(e=c,c=0),"function"==typeof d&&(e=d,d="cubic-bezier(0.65,0.03,0.36,0.72)"),"string"==typeof b)for(var j in jQuery.fx.speeds){if(b==j){b=jQuery.fx.speeds[j];break}b=jQuery.fx.speeds._default}if(b||(b=jQuery.fx.speeds._default),"string"==typeof e&&(d=e,e=null),jQuery.support.CSStransition){var k={"default":"ease","in":"ease-in",out:"ease-out","in-out":"ease-in-out",snap:"cubic-bezier(0,1,.5,1)",easeOutCubic:"cubic-bezier(.215,.61,.355,1)",easeInOutCubic:"cubic-bezier(.645,.045,.355,1)",easeInCirc:"cubic-bezier(.6,.04,.98,.335)",easeOutCirc:"cubic-bezier(.075,.82,.165,1)",easeInOutCirc:"cubic-bezier(.785,.135,.15,.86)",easeInExpo:"cubic-bezier(.95,.05,.795,.035)",easeOutExpo:"cubic-bezier(.19,1,.22,1)",easeInOutExpo:"cubic-bezier(1,0,0,1)",easeInQuad:"cubic-bezier(.55,.085,.68,.53)",easeOutQuad:"cubic-bezier(.25,.46,.45,.94)",easeInOutQuad:"cubic-bezier(.455,.03,.515,.955)",easeInQuart:"cubic-bezier(.895,.03,.685,.22)",easeOutQuart:"cubic-bezier(.165,.84,.44,1)",easeInOutQuart:"cubic-bezier(.77,0,.175,1)",easeInQuint:"cubic-bezier(.755,.05,.855,.06)",easeOutQuint:"cubic-bezier(.23,1,.32,1)",easeInOutQuint:"cubic-bezier(.86,0,.07,1)",easeInSine:"cubic-bezier(.47,0,.745,.715)",easeOutSine:"cubic-bezier(.39,.575,.565,1)",easeInOutSine:"cubic-bezier(.445,.05,.55,.95)",easeInBack:"cubic-bezier(.6,-.28,.735,.045)",easeOutBack:"cubic-bezier(.175, .885,.32,1.275)",easeInOutBack:"cubic-bezier(.68,-.55,.265,1.55)"};k[d]&&(d=k[d]),h.off(jQuery.CSS.transitionEnd+"."+g.id),k=jQuery.CSS.getProp(a);var l={};jQuery.extend(l,a),l[jQuery.CSS.sfx+"transition-property"]=k,l[jQuery.CSS.sfx+"transition-duration"]=b+"ms",l[jQuery.CSS.sfx+"transition-delay"]=c+"ms",l[jQuery.CSS.sfx+"transition-timing-function"]=d,setTimeout(function(){h.one(jQuery.CSS.transitionEnd+"."+g.id,f),h.css(l)},1),g.timeout=setTimeout(function(){g.called||!e?(g.called=!1,g.CSSAIsRunning=!1):(h.css(jQuery.CSS.sfx+"transition",""),e.apply(g),g.CSSAIsRunning=!1,"function"==typeof g.CSSqueue&&(g.CSSqueue(),g.CSSqueue=null))},b+c+10)}else{for(k in a)"transform"===k&&delete a[k],"filter"===k&&delete a[k],"transform-origin"===k&&delete a[k],"auto"===a[k]&&delete a[k],"x"===k&&(i=a[k],j="left",a[j]=i,delete a[k]),"y"===k&&(i=a[k],j="top",a[j]=i,delete a[k]),"-ms-transform"!==k&&"-ms-filter"!==k||delete a[k];h.delay(c).animate(a,b,e)}}})}},jQuery.fn.CSSAnimate=jQuery.CSS.animate,jQuery.normalizeCss=jQuery.CSS.normalizeCss,jQuery.fn.css3=function(a){return this.each(function(){var b=jQuery(this),c=jQuery.normalizeCss(a);b.css(c)})};var nAgt=navigator.userAgent;jQuery.browser=jQuery.browser||{},jQuery.browser.mozilla=!1,jQuery.browser.webkit=!1,jQuery.browser.opera=!1,jQuery.browser.safari=!1,jQuery.browser.chrome=!1,jQuery.browser.androidStock=!1,jQuery.browser.msie=!1,jQuery.browser.edge=!1,jQuery.browser.ua=nAgt;var getOS=function(){var a={version:"Unknown version",name:"Unknown OS"};return-1!=navigator.appVersion.indexOf("Win")&&(a.name="Windows"),-1!=navigator.appVersion.indexOf("Mac")&&0>navigator.appVersion.indexOf("Mobile")&&(a.name="Mac"),-1!=navigator.appVersion.indexOf("Linux")&&(a.name="Linux"),/Mac OS X/.test(nAgt)&&!/Mobile/.test(nAgt)&&(a.version=/Mac OS X (10[\.\_\d]+)/.exec(nAgt)[1],a.version=a.version.replace(/_/g,".").substring(0,5)),/Windows/.test(nAgt)&&(a.version="Unknown.Unknown"),/Windows NT 5.1/.test(nAgt)&&(a.version="5.1"),/Windows NT 6.0/.test(nAgt)&&(a.version="6.0"),/Windows NT 6.1/.test(nAgt)&&(a.version="6.1"),/Windows NT 6.2/.test(nAgt)&&(a.version="6.2"),/Windows NT 10.0/.test(nAgt)&&(a.version="10.0"),/Linux/.test(nAgt)&&/Linux/.test(nAgt)&&(a.version="Unknown.Unknown"),a.name=a.name.toLowerCase(),a.major_version="Unknown",a.minor_version="Unknown","Unknown.Unknown"!=a.version&&(a.major_version=parseFloat(a.version.split(".")[0]),a.minor_version=parseFloat(a.version.split(".")[1])),a};jQuery.browser.os=getOS(),jQuery.browser.hasTouch=isTouchSupported(),jQuery.browser.name=navigator.appName,jQuery.browser.fullVersion=""+parseFloat(navigator.appVersion),jQuery.browser.majorVersion=parseInt(navigator.appVersion,10);var nameOffset,verOffset,ix;if(-1!=(verOffset=nAgt.indexOf("Opera")))jQuery.browser.opera=!0,jQuery.browser.name="Opera",jQuery.browser.fullVersion=nAgt.substring(verOffset+6),-1!=(verOffset=nAgt.indexOf("Version"))&&(jQuery.browser.fullVersion=nAgt.substring(verOffset+8));else if(-1!=(verOffset=nAgt.indexOf("OPR")))jQuery.browser.opera=!0,jQuery.browser.name="Opera",jQuery.browser.fullVersion=nAgt.substring(verOffset+4);else if(-1!=(verOffset=nAgt.indexOf("MSIE")))jQuery.browser.msie=!0,jQuery.browser.name="Microsoft Internet Explorer",jQuery.browser.fullVersion=nAgt.substring(verOffset+5);else if(-1!=nAgt.indexOf("Trident")){jQuery.browser.msie=!0,jQuery.browser.name="Microsoft Internet Explorer";var start=nAgt.indexOf("rv:")+3,end=start+4;jQuery.browser.fullVersion=nAgt.substring(start,end)}else-1!=(verOffset=nAgt.indexOf("Edge"))?(jQuery.browser.edge=!0,jQuery.browser.name="Microsoft Edge",jQuery.browser.fullVersion=nAgt.substring(verOffset+5)):-1!=(verOffset=nAgt.indexOf("Chrome"))?(jQuery.browser.webkit=!0,jQuery.browser.chrome=!0,jQuery.browser.name="Chrome",jQuery.browser.fullVersion=nAgt.substring(verOffset+7)):-1<nAgt.indexOf("mozilla/5.0")&&-1<nAgt.indexOf("android ")&&-1<nAgt.indexOf("applewebkit")&&!(-1<nAgt.indexOf("chrome"))?(verOffset=nAgt.indexOf("Chrome"),jQuery.browser.webkit=!0,jQuery.browser.androidStock=!0,jQuery.browser.name="androidStock",jQuery.browser.fullVersion=nAgt.substring(verOffset+7)):-1!=(verOffset=nAgt.indexOf("Safari"))?(jQuery.browser.webkit=!0,jQuery.browser.safari=!0,jQuery.browser.name="Safari",jQuery.browser.fullVersion=nAgt.substring(verOffset+7),-1!=(verOffset=nAgt.indexOf("Version"))&&(jQuery.browser.fullVersion=nAgt.substring(verOffset+8))):-1!=(verOffset=nAgt.indexOf("AppleWebkit"))?(jQuery.browser.webkit=!0,jQuery.browser.safari=!0,jQuery.browser.name="Safari",jQuery.browser.fullVersion=nAgt.substring(verOffset+7),-1!=(verOffset=nAgt.indexOf("Version"))&&(jQuery.browser.fullVersion=nAgt.substring(verOffset+8))):-1!=(verOffset=nAgt.indexOf("Firefox"))?(jQuery.browser.mozilla=!0,jQuery.browser.name="Firefox",jQuery.browser.fullVersion=nAgt.substring(verOffset+8)):(nameOffset=nAgt.lastIndexOf(" ")+1)<(verOffset=nAgt.lastIndexOf("/"))&&(jQuery.browser.name=nAgt.substring(nameOffset,verOffset),jQuery.browser.fullVersion=nAgt.substring(verOffset+1),jQuery.browser.name.toLowerCase()==jQuery.browser.name.toUpperCase()&&(jQuery.browser.name=navigator.appName));-1!=(ix=jQuery.browser.fullVersion.indexOf(";"))&&(jQuery.browser.fullVersion=jQuery.browser.fullVersion.substring(0,ix)),-1!=(ix=jQuery.browser.fullVersion.indexOf(" "))&&(jQuery.browser.fullVersion=jQuery.browser.fullVersion.substring(0,ix)),jQuery.browser.majorVersion=parseInt(""+jQuery.browser.fullVersion,10),isNaN(jQuery.browser.majorVersion)&&(jQuery.browser.fullVersion=""+parseFloat(navigator.appVersion),jQuery.browser.majorVersion=parseInt(navigator.appVersion,10)),jQuery.browser.version=jQuery.browser.majorVersion,jQuery.browser.android=/Android/i.test(nAgt),jQuery.browser.blackberry=/BlackBerry|BB|PlayBook/i.test(nAgt),jQuery.browser.ios=/iPhone|iPad|iPod|webOS/i.test(nAgt),jQuery.browser.operaMobile=/Opera Mini/i.test(nAgt),jQuery.browser.windowsMobile=/IEMobile|Windows Phone/i.test(nAgt),jQuery.browser.kindle=/Kindle|Silk/i.test(nAgt),jQuery.browser.mobile=jQuery.browser.android||jQuery.browser.blackberry||jQuery.browser.ios||jQuery.browser.windowsMobile||jQuery.browser.operaMobile||jQuery.browser.kindle,jQuery.isMobile=jQuery.browser.mobile,jQuery.isTablet=jQuery.browser.mobile&&765<jQuery(window).width(),jQuery.isAndroidDefault=jQuery.browser.android&&!/chrome/i.test(nAgt),jQuery.mbBrowser=jQuery.browser,jQuery.browser.versionCompare=function(a,b){if("stringstring"!=typeof a+typeof b)return!1;for(var c=a.split("."),d=b.split("."),e=0,f=Math.max(c.length,d.length);e<f;e++){if(c[e]&&!d[e]&&0<parseInt(c[e])||parseInt(c[e])>parseInt(d[e]))return 1;if(d[e]&&!c[e]&&0<parseInt(d[e])||parseInt(c[e])<parseInt(d[e]))return-1}return 0},!function(a,b){"object"==typeof exports?module.exports=b():"function"==typeof define&&define.amd?define(b):a.Spinner=b()}(this,function(){"use strict";function a(a,b){var c,d=document.createElement(a||"div");for(c in b)d[c]=b[c];return d}function b(a){for(var b=1,c=arguments.length;c>b;b++)a.appendChild(arguments[b]);return a}function c(a,b,c,d){var e=["opacity",b,~~(100*a),c,d].join("-"),f=.01+100*(c/d),g=Math.max(1-(1-a)/b*(100-f),a),h=j.substring(0,j.indexOf("Animation")).toLowerCase(),i=h&&"-"+h+"-"||"";
return l[e]||(m.insertRule("@"+i+"keyframes "+e+"{0%{opacity:"+g+"}"+f+"%{opacity:"+a+"}"+(f+.01)+"%{opacity:1}"+(f+b)%100+"%{opacity:"+a+"}100%{opacity:"+g+"}}",m.cssRules.length),l[e]=1),e}function d(a,b){var c,d,e=a.style;for(b=b.charAt(0).toUpperCase()+b.slice(1),d=0;d<k.length;d++)if(c=k[d]+b,void 0!==e[c])return c;return void 0!==e[b]?b:void 0}function e(a,b){for(var c in b)a.style[d(a,c)||c]=b[c];return a}function f(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)void 0===a[d]&&(a[d]=c[d])}return a}function g(a,b){return"string"==typeof a?a:a[b%a.length]}function h(a){this.opts=f(a||{},h.defaults,n)}function i(){function c(b,c){return a("<"+b+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',c)}m.addRule(".spin-vml","behavior:url(#default#VML)"),h.prototype.lines=function(a,d){function f(){return e(c("group",{coordsize:k+" "+k,coordorigin:-j+" "+-j}),{width:k,height:k})}function h(a,h,i){b(m,b(e(f(),{rotation:360/d.lines*a+"deg",left:~~h}),b(e(c("roundrect",{arcsize:d.corners}),{width:j,height:d.width,left:d.radius,top:-d.width>>1,filter:i}),c("fill",{color:g(d.color,a),opacity:d.opacity}),c("stroke",{opacity:0}))))}var i,j=d.length+d.width,k=2*j,l=2*-(d.width+d.length)+"px",m=e(f(),{position:"absolute",top:l,left:l});if(d.shadow)for(i=1;i<=d.lines;i++)h(i,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(i=1;i<=d.lines;i++)h(i);return b(a,m)},h.prototype.opacity=function(a,b,c,d){var e=a.firstChild;d=d.shadow&&d.lines||0,e&&b+d<e.childNodes.length&&(e=e.childNodes[b+d],e=e&&e.firstChild,e=e&&e.firstChild,e&&(e.opacity=c))}}var j,k=["webkit","Moz","ms","O"],l={},m=function(){var c=a("style",{type:"text/css"});return b(document.getElementsByTagName("head")[0],c),c.sheet||c.styleSheet}(),n={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"50%",left:"50%",position:"absolute"};h.defaults={},f(h.prototype,{spin:function(b){this.stop();var c=this,d=c.opts,f=c.el=e(a(0,{className:d.className}),{position:d.position,width:0,zIndex:d.zIndex});if(d.radius+d.length+d.width,e(f,{left:d.left,top:d.top}),b&&b.insertBefore(f,b.firstChild||null),f.setAttribute("role","progressbar"),c.lines(f,c.opts),!j){var g,h=0,i=(d.lines-1)*(1-d.direction)/2,k=d.fps,l=k/d.speed,m=(1-d.opacity)/(l*d.trail/100),n=l/d.lines;!function o(){h++;for(var a=0;a<d.lines;a++)g=Math.max(1-(h+(d.lines-a)*n)%l*m,d.opacity),c.opacity(f,a*d.direction+i,g,d);c.timeout=c.el&&setTimeout(o,~~(1e3/k))}()}return c},stop:function(){var a=this.el;return a&&(clearTimeout(this.timeout),a.parentNode&&a.parentNode.removeChild(a),this.el=void 0),this},lines:function(d,f){function h(b,c){return e(a(),{position:"absolute",width:f.length+f.width+"px",height:f.width+"px",background:b,boxShadow:c,transformOrigin:"left",transform:"rotate("+~~(360/f.lines*k+f.rotate)+"deg) translate("+f.radius+"px,0)",borderRadius:(f.corners*f.width>>1)+"px"})}for(var i,k=0,l=(f.lines-1)*(1-f.direction)/2;k<f.lines;k++)i=e(a(),{position:"absolute",top:1+~(f.width/2)+"px",transform:f.hwaccel?"translate3d(0,0,0)":"",opacity:f.opacity,animation:j&&c(f.opacity,f.trail,l+k*f.direction,f.lines)+" "+1/f.speed+"s linear infinite"}),f.shadow&&b(i,e(h("#000","0 0 4px #000"),{top:"2px"})),b(d,b(i,h(g(f.color,k),"0 0 1px rgba(0,0,0,.1)")));return d},opacity:function(a,b,c){b<a.childNodes.length&&(a.childNodes[b].style.opacity=c)}});var o=e(a("group"),{behavior:"url(#default#VML)"});return!d(o,"transform")&&o.adj?i():j=d(o,"animation"),h}),function(a){"function"==typeof define&&define.amd&&define.amd.jQuery?define(["jquery"],a):a(jQuery)}(function(a){function b(b){return!b||void 0!==b.allowPageScroll||void 0===b.swipe&&void 0===b.swipeStatus||(b.allowPageScroll=j),void 0!==b.click&&void 0===b.tap&&(b.tap=b.click),b||(b={}),b=a.extend({},a.fn.swipe.defaults,b),this.each(function(){var d=a(this),e=d.data(B);e||(e=new c(this,b),d.data(B,e))})}function c(b,c){function C(b){if(!(ja()||a(b.target).closest(c.excludedElements,Sa).length>0)){var d,e=b.originalEvent?b.originalEvent:b,f=y?e.touches[0]:e;return Ta=u,y?Ua=e.touches.length:b.preventDefault(),Ja=0,Ka=null,Qa=null,La=0,Ma=0,Na=0,Oa=1,Pa=0,Va=oa(),Ra=ra(),ha(),!y||Ua===c.fingers||c.fingers===s||R()?(la(0,f),Wa=Aa(),2==Ua&&(la(1,e.touches[1]),Ma=Na=ua(Va[0].start,Va[1].start)),(c.swipeStatus||c.pinchStatus)&&(d=J(e,Ta))):d=!1,d===!1?(Ta=x,J(e,Ta),d):(c.hold&&(ab=setTimeout(a.proxy(function(){Sa.trigger("hold",[e.target]),c.hold&&(d=c.hold.call(Sa,e,e.target))},this),c.longTapThreshold)),ka(!0),null)}}function D(a){var b=a.originalEvent?a.originalEvent:a;if(Ta!==w&&Ta!==x&&!ia()){var d,e=y?b.touches[0]:b,f=ma(e);if(Xa=Aa(),y&&(Ua=b.touches.length),c.hold&&clearTimeout(ab),Ta=v,2==Ua&&(0==Ma?(la(1,b.touches[1]),Ma=Na=ua(Va[0].start,Va[1].start)):(ma(b.touches[1]),Na=ua(Va[0].end,Va[1].end),Qa=wa(Va[0].end,Va[1].end)),Oa=va(Ma,Na),Pa=Math.abs(Ma-Na)),Ua===c.fingers||c.fingers===s||!y||R()){if(Ka=za(f.start,f.end),P(a,Ka),Ja=xa(f.start,f.end),La=ta(),pa(Ka,Ja),(c.swipeStatus||c.pinchStatus)&&(d=J(b,Ta)),!c.triggerOnTouchEnd||c.triggerOnTouchLeave){var g=!0;if(c.triggerOnTouchLeave){var h=Ba(this);g=Ca(f.end,h)}!c.triggerOnTouchEnd&&g?Ta=I(v):c.triggerOnTouchLeave&&!g&&(Ta=I(w)),Ta!=x&&Ta!=w||J(b,Ta)}}else Ta=x,J(b,Ta);d===!1&&(Ta=x,J(b,Ta))}}function E(a){var b=a.originalEvent;return y&&b.touches.length>0?(ga(),!0):(ia()&&(Ua=Za),Xa=Aa(),La=ta(),M()||!L()?(Ta=x,J(b,Ta)):c.triggerOnTouchEnd||0==c.triggerOnTouchEnd&&Ta===v?(a.preventDefault(),Ta=w,J(b,Ta)):!c.triggerOnTouchEnd&&Y()?(Ta=w,K(b,Ta,n)):Ta===v&&(Ta=x,J(b,Ta)),ka(!1),null)}function F(){Ua=0,Xa=0,Wa=0,Ma=0,Na=0,Oa=1,ha(),ka(!1)}function G(a){var b=a.originalEvent;c.triggerOnTouchLeave&&(Ta=I(w),J(b,Ta))}function H(){Sa.unbind(Ea,C),Sa.unbind(Ia,F),Sa.unbind(Fa,D),Sa.unbind(Ga,E),Ha&&Sa.unbind(Ha,G),ka(!1)}function I(a){var b=a,d=O(),e=L(),f=M();return!d||f?b=x:!e||a!=v||c.triggerOnTouchEnd&&!c.triggerOnTouchLeave?!e&&a==w&&c.triggerOnTouchLeave&&(b=x):b=w,b}function J(a,b){var c=void 0;return V()||U()||S()||R()?((V()||U())&&(c=K(a,b,l)),(S()||R())&&c!==!1&&(c=K(a,b,m))):ea()&&c!==!1?c=K(a,b,o):fa()&&c!==!1?c=K(a,b,p):da()&&c!==!1&&(c=K(a,b,n)),b===x&&F(a),b===w&&(y?0==a.touches.length&&F(a):F(a)),c}function K(b,j,k){var q=void 0;if(k==l){if(Sa.trigger("swipeStatus",[j,Ka||null,Ja||0,La||0,Ua,Va]),c.swipeStatus&&(q=c.swipeStatus.call(Sa,b,j,Ka||null,Ja||0,La||0,Ua,Va),q===!1))return!1;if(j==w&&T()){if(Sa.trigger("swipe",[Ka,Ja,La,Ua,Va]),c.swipe&&(q=c.swipe.call(Sa,b,Ka,Ja,La,Ua,Va),q===!1))return!1;switch(Ka){case d:Sa.trigger("swipeLeft",[Ka,Ja,La,Ua,Va]),c.swipeLeft&&(q=c.swipeLeft.call(Sa,b,Ka,Ja,La,Ua,Va));break;case e:Sa.trigger("swipeRight",[Ka,Ja,La,Ua,Va]),c.swipeRight&&(q=c.swipeRight.call(Sa,b,Ka,Ja,La,Ua,Va));break;case f:Sa.trigger("swipeUp",[Ka,Ja,La,Ua,Va]),c.swipeUp&&(q=c.swipeUp.call(Sa,b,Ka,Ja,La,Ua,Va));break;case g:Sa.trigger("swipeDown",[Ka,Ja,La,Ua,Va]),c.swipeDown&&(q=c.swipeDown.call(Sa,b,Ka,Ja,La,Ua,Va))}}}if(k==m){if(Sa.trigger("pinchStatus",[j,Qa||null,Pa||0,La||0,Ua,Oa,Va]),c.pinchStatus&&(q=c.pinchStatus.call(Sa,b,j,Qa||null,Pa||0,La||0,Ua,Oa,Va),q===!1))return!1;if(j==w&&Q())switch(Qa){case h:Sa.trigger("pinchIn",[Qa||null,Pa||0,La||0,Ua,Oa,Va]),c.pinchIn&&(q=c.pinchIn.call(Sa,b,Qa||null,Pa||0,La||0,Ua,Oa,Va));break;case i:Sa.trigger("pinchOut",[Qa||null,Pa||0,La||0,Ua,Oa,Va]),c.pinchOut&&(q=c.pinchOut.call(Sa,b,Qa||null,Pa||0,La||0,Ua,Oa,Va))}}return k==n?j!==x&&j!==w||(clearTimeout(_a),clearTimeout(ab),Z()&&!aa()?($a=Aa(),_a=setTimeout(a.proxy(function(){$a=null,Sa.trigger("tap",[b.target]),c.tap&&(q=c.tap.call(Sa,b,b.target))},this),c.doubleTapThreshold)):($a=null,Sa.trigger("tap",[b.target]),c.tap&&(q=c.tap.call(Sa,b,b.target)))):k==o?j!==x&&j!==w||(clearTimeout(_a),$a=null,Sa.trigger("doubletap",[b.target]),c.doubleTap&&(q=c.doubleTap.call(Sa,b,b.target))):k==p&&(j!==x&&j!==w||(clearTimeout(_a),$a=null,Sa.trigger("longtap",[b.target]),c.longTap&&(q=c.longTap.call(Sa,b,b.target)))),q}function L(){var a=!0;return null!==c.threshold&&(a=Ja>=c.threshold),a}function M(){var a=!1;return null!==c.cancelThreshold&&null!==Ka&&(a=qa(Ka)-Ja>=c.cancelThreshold),a}function N(){return null===c.pinchThreshold||Pa>=c.pinchThreshold}function O(){var a;return a=!c.maxTimeThreshold||!(La>=c.maxTimeThreshold)}function P(a,b){if(c.preventDefaultEvents!==!1)if(c.allowPageScroll===j)a.preventDefault();else{var h=c.allowPageScroll===k;switch(b){case d:(c.swipeLeft&&h||!h&&c.allowPageScroll!=q)&&a.preventDefault();break;case e:(c.swipeRight&&h||!h&&c.allowPageScroll!=q)&&a.preventDefault();break;case f:(c.swipeUp&&h||!h&&c.allowPageScroll!=r)&&a.preventDefault();break;case g:(c.swipeDown&&h||!h&&c.allowPageScroll!=r)&&a.preventDefault()}}}function Q(){var a=W(),b=X(),c=N();return a&&b&&c}function R(){return!!(c.pinchStatus||c.pinchIn||c.pinchOut)}function S(){return!(!Q()||!R())}function T(){var a=O(),b=L(),c=W(),d=X(),e=M(),f=!e&&d&&c&&b&&a;return f}function U(){return!!(c.swipe||c.swipeStatus||c.swipeLeft||c.swipeRight||c.swipeUp||c.swipeDown)}function V(){return!(!T()||!U())}function W(){return Ua===c.fingers||c.fingers===s||!y}function X(){return 0!==Va[0].end.x}function Y(){return!!c.tap}function Z(){return!!c.doubleTap}function $(){return!!c.longTap}function _(){if(null==$a)return!1;var a=Aa();return Z()&&a-$a<=c.doubleTapThreshold}function aa(){return _()}function ba(){return(1===Ua||!y)&&(isNaN(Ja)||Ja<c.threshold)}function ca(){return La>c.longTapThreshold&&Ja<t}function da(){return!(!ba()||!Y())}function ea(){return!(!_()||!Z())}function fa(){return!(!ca()||!$())}function ga(){Ya=Aa(),Za=event.touches.length+1}function ha(){Ya=0,Za=0}function ia(){var a=!1;if(Ya){var b=Aa()-Ya;b<=c.fingerReleaseThreshold&&(a=!0)}return a}function ja(){return!(Sa.data(B+"_intouch")!==!0)}function ka(a){a===!0?(Sa.bind(Fa,D),Sa.bind(Ga,E),Ha&&Sa.bind(Ha,G)):(Sa.unbind(Fa,D,!1),Sa.unbind(Ga,E,!1),Ha&&Sa.unbind(Ha,G,!1)),Sa.data(B+"_intouch",a===!0)}function la(a,b){var c=void 0!==b.identifier?b.identifier:0;return Va[a].identifier=c,Va[a].start.x=Va[a].end.x=b.pageX||b.clientX,Va[a].start.y=Va[a].end.y=b.pageY||b.clientY,Va[a]}function ma(a){var b=void 0!==a.identifier?a.identifier:0,c=na(b);return c.end.x=a.pageX||a.clientX,c.end.y=a.pageY||a.clientY,c}function na(a){for(var b=0;b<Va.length;b++)if(Va[b].identifier==a)return Va[b]}function oa(){for(var a=[],b=0;b<=5;b++)a.push({start:{x:0,y:0},end:{x:0,y:0},identifier:0});return a}function pa(a,b){b=Math.max(b,qa(a)),Ra[a].distance=b}function qa(a){if(Ra[a])return Ra[a].distance}function ra(){var a={};return a[d]=sa(d),a[e]=sa(e),a[f]=sa(f),a[g]=sa(g),a}function sa(a){return{direction:a,distance:0}}function ta(){return Xa-Wa}function ua(a,b){var c=Math.abs(a.x-b.x),d=Math.abs(a.y-b.y);return Math.round(Math.sqrt(c*c+d*d))}function va(a,b){var c=b/a*1;return c.toFixed(2)}function wa(){return Oa<1?i:h}function xa(a,b){return Math.round(Math.sqrt(Math.pow(b.x-a.x,2)+Math.pow(b.y-a.y,2)))}function ya(a,b){var c=a.x-b.x,d=b.y-a.y,e=Math.atan2(d,c),f=Math.round(180*e/Math.PI);return f<0&&(f=360-Math.abs(f)),f}function za(a,b){var c=ya(a,b);return c<=45&&c>=0?d:c<=360&&c>=315?d:c>=135&&c<=225?e:c>45&&c<135?g:f}function Aa(){var a=new Date;return a.getTime()}function Ba(b){b=a(b);var c=b.offset(),d={left:c.left,right:c.left+b.outerWidth(),top:c.top,bottom:c.top+b.outerHeight()};return d}function Ca(a,b){return a.x>b.left&&a.x<b.right&&a.y>b.top&&a.y<b.bottom}var Da=y||A||!c.fallbackToMouseEvents,Ea=Da?A?z?"MSPointerDown":"pointerdown":"touchstart":"mousedown",Fa=Da?A?z?"MSPointerMove":"pointermove":"touchmove":"mousemove",Ga=Da?A?z?"MSPointerUp":"pointerup":"touchend":"mouseup",Ha=Da?null:"mouseleave",Ia=A?z?"MSPointerCancel":"pointercancel":"touchcancel",Ja=0,Ka=null,La=0,Ma=0,Na=0,Oa=1,Pa=0,Qa=0,Ra=null,Sa=a(b),Ta="start",Ua=0,Va=null,Wa=0,Xa=0,Ya=0,Za=0,$a=0,_a=null,ab=null;try{Sa.bind(Ea,C),Sa.bind(Ia,F)}catch(bb){a.error("events not supported "+Ea+","+Ia+" on jQuery.swipe")}this.enable=function(){return Sa.bind(Ea,C),Sa.bind(Ia,F),Sa},this.disable=function(){return H(),Sa},this.destroy=function(){H(),Sa.data(B,null),Sa=null},this.option=function(b,d){if(void 0!==c[b]){if(void 0===d)return c[b];c[b]=d}else a.error("Option "+b+" does not exist on jQuery.swipe.options");return null}}var d="left",e="right",f="up",g="down",h="in",i="out",j="none",k="auto",l="swipe",m="pinch",n="tap",o="doubletap",p="longtap",q="horizontal",r="vertical",s="all",t=10,u="start",v="move",w="end",x="cancel",y="ontouchstart"in window,z=window.navigator.msPointerEnabled&&!window.navigator.pointerEnabled,A=window.navigator.pointerEnabled||window.navigator.msPointerEnabled,B="TouchSwipe",C={fingers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,tap:null,doubleTap:null,longTap:null,hold:null,triggerOnTouchEnd:!0,triggerOnTouchLeave:!1,allowPageScroll:"auto",fallbackToMouseEvents:!0,excludedElements:"label, button, input, select, textarea, a, .noSwipe",preventDefaultEvents:!0};a.fn.swipe=function(c){var d=a(this),e=d.data(B);if(e&&"string"==typeof c){if(e[c])return e[c].apply(this,Array.prototype.slice.call(arguments,1));a.error("Method "+c+" does not exist on jQuery.swipe")}else if(!(e||"object"!=typeof c&&c))return b.apply(this,arguments);return d},a.fn.swipe.defaults=C,a.fn.swipe.phases={PHASE_START:u,PHASE_MOVE:v,PHASE_END:w,PHASE_CANCEL:x},a.fn.swipe.directions={LEFT:d,RIGHT:e,UP:f,DOWN:g,IN:h,OUT:i},a.fn.swipe.pageScroll={NONE:j,HORIZONTAL:q,VERTICAL:r,AUTO:k},a.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,ALL:s}});